{"openapi":"3.1.0","info":{"title":"Backend","description":"","version":"1.0.0"},"tags":[],"paths":{"/product/productlist":{"get":{"summary":"product-list","deprecated":false,"description":"Give product-list in count \"pagePerCount\"","tags":[],"parameters":[{"name":"page","in":"query","description":"пока что не играет никакой роли, тк не придумал как запоминать юзеров не нарушая REST","required":false,"example":"12","schema":{"type":"string"}},{"name":"pagePerCount","in":"query","description":"количество товаров(если количество больше чем в бд, возвращает максимальное","required":false,"example":"10","schema":{"type":"string"}},{"name":"Authorization","in":"header","description":"","required":false,"example":"","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"imageURL":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"price":{"type":"integer"},"currency":{"type":"string"},"discount":{"type":"integer"},"producURL":{"type":"string"}},"required":["id","imageURL","title","description","price","currency","discount","producURL"]}},"examples":{"1":{"summary":"Success","value":[{"id":"1","imageURL":"http://..","title":"none","description":"none","price":10,"currency":"₽","discount":10,"producURL":"http://.."},{"id":"2","imageURL":"http://..","title":"none","description":"none","price":0,"currency":"₽","discount":10,"producURL":"http://.."},{"id":"4","imageURL":"http://..","title":"none","description":"none","price":1,"currency":"₽","discount":10,"producURL":"http://.."},{"id":"3","imageURL":"http://..","title":"none","description":"none","price":10,"currency":"₽","discount":10,"producURL":"http://.."}]}}}},"headers":{}},"400":{"description":"","content":{"text/event-stream":{"schema":{"type":"object","properties":{}},"examples":{"1":{"summary":"Bad Request","value":"\"invalid credentials\""}}}},"headers":{}},"500":{"description":"","content":{"text/event-stream":{"schema":{"type":"object","properties":{}},"examples":{"1":{"summary":"Server Error","value":"\"internal error, try again\""}}}},"headers":{}}},"security":[]}},"/product/delete/{id}":{"delete":{"summary":"delete-by-id","deprecated":false,"description":"Delete product by id","tags":[],"parameters":[{"name":"id","in":"path","description":"","required":true,"schema":{"type":"string"}},{"name":"Authorization","in":"header","description":"","required":false,"example":"","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object","properties":{}},"examples":{"1":{"summary":"is delete","value":{"isDelete":true}},"2":{"summary":"isn`t delete","value":{"isDelete":false}}}}},"headers":{}},"400":{"description":"","content":{"text/event-stream":{"schema":{"type":"object","properties":{}},"examples":{"1":{"summary":"Bad Request","value":"\"invalid credentials\""}}}},"headers":{}},"500":{"description":"","content":{"text/event-stream":{"schema":{"type":"object","properties":{}},"examples":{"1":{"summary":"Server Error","value":"\"internal error, try again\""}}}},"headers":{}}},"security":[]}},"/product/productbyid/{id}":{"get":{"summary":"product-by-id","deprecated":false,"description":"Give one product by id","tags":[],"parameters":[{"name":"id","in":"path","description":"","required":true,"schema":{"type":"string"}},{"name":"Authorization","in":"header","description":"","required":false,"example":"","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string"},"imageURL":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"price":{"type":"integer"},"currency":{"type":"string"},"discount":{"type":"integer"},"producURL":{"type":"string"}},"required":["id","imageURL","title","description","price","currency","discount","producURL","01J9644SC4HCTQSB1FA1YATT33"]},"examples":{"1":{"summary":"id=1","value":{"id":"1","imageURL":"http://..","title":"none","description":"none","price":10,"currency":"₽","discount":0,"producURL":"http://.."}}}}},"headers":{}},"400":{"description":"","content":{"text/event-stream":{"schema":{"type":"object","properties":{}},"examples":{"1":{"summary":"Bad Request","value":"\"invalid credentials\""}}}},"headers":{}},"500":{"description":"","content":{"text/event-stream":{"schema":{"type":"object","properties":{}},"examples":{"1":{"summary":"Server Error","value":"\"internal error, try again\""}}}},"headers":{}}},"security":[]}},"/product/create":{"post":{"summary":"create-new-product","deprecated":false,"description":"Create new product in db, returning id","tags":[],"parameters":[{"name":"Authorization","in":"header","description":"","required":false,"example":"","schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"imageURL":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"price":{"type":"integer"},"currency":{"type":"integer"},"discount":{"type":"integer"},"productURL":{"type":"string"}},"required":["title","description","price","currency"]},"example":{"imageURL":"http://..","title":"none","description":"none","price":0,"currency":8381,"discount":2,"productURL":"http://.."}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string","description":"ID"}},"required":["id"]},"examples":{"1":{"summary":"Success","value":{"id":"1"}}}}},"headers":{}},"400":{"description":"","content":{"text/event-stream":{"schema":{"type":"object","properties":{}},"examples":{"1":{"summary":"Bad Request","value":"\"invalid credentials\""}}}},"headers":{}},"500":{"description":"","content":{"text/event-stream":{"schema":{"type":"object","properties":{}},"examples":{"1":{"summary":"Server Error","value":"\"internal error, try again\""}}}},"headers":{}}},"security":[]}},"/auth/register":{"post":{"summary":"register","deprecated":false,"description":"Register new user","tags":[],"parameters":[],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"username":{"type":"string","description":"name"},"password":{"type":"string"},"roles":{"type":"array","items":{"type":"string"},"description":"user roles"}},"required":["username","password","roles"]}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string"},"token":{"type":"string"}},"required":["id","token"]}}},"headers":{}},"400":{"description":"","content":{"text/event-stream":{"schema":{"type":"object","properties":{}},"examples":{"1":{"summary":"Bad Request","value":"\"invalid credentials\""}}}},"headers":{}},"500":{"description":"","content":{"text/event-stream":{"schema":{"type":"object","properties":{}},"examples":{"1":{"summary":"Server Error","value":"\"internal error, try again\""}}}},"headers":{}}},"security":[]}},"/auth/login":{"post":{"summary":"login","deprecated":false,"description":"Login user","tags":[],"parameters":[],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string"},"password":{"type":"string"}},"required":["name","password"]},"example":{"name":"string","password":"string"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object","properties":{"jwt":{"type":"string"}},"required":["jwt"]},"examples":{"1":{"summary":"Success","value":{"jwt":"123mmdmasmda123m3m1dmsad,1me"}}}}},"headers":{}},"400":{"description":"","content":{"text/event-stream":{"schema":{"type":"object","properties":{}},"examples":{"1":{"summary":"Bad Request","value":"\"invalid credentials\""}}}},"headers":{}},"500":{"description":"","content":{"text/event-stream":{"schema":{"type":"object","properties":{}},"examples":{"1":{"summary":"Server Error","value":"\"internal error, try again\""}}}},"headers":{}}},"security":[]}},"/auth/delete/":{"delete":{"summary":"delete","deprecated":false,"description":"Delete user by jwt or id","tags":[],"parameters":[{"name":"id","in":"header","description":"","required":false,"example":"","schema":{"type":"string"}},{"name":"Authorization","in":"header","description":"","required":false,"example":"","schema":{"type":"string"}}],"requestBody":{"content":{"multipart/form-data":{"schema":{"type":"object","properties":{}}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object","properties":{"isDelete":{"type":"boolean","description":"name"}},"required":["isDelete"]}}},"headers":{}},"400":{"description":"","content":{"text/event-stream":{"schema":{"type":"object","properties":{}},"examples":{"1":{"summary":"Bad Request","value":"\"invalid credentials\""}}}},"headers":{}},"500":{"description":"","content":{"text/event-stream":{"schema":{"type":"object","properties":{}},"examples":{"1":{"summary":"Server Error","value":"\"internal error, try again\""}}}},"headers":{}}},"security":[]}},"/auth/isadmin":{"post":{"summary":"is-admin","deprecated":false,"description":"is admin?","tags":[],"parameters":[{"name":"Authorization","in":"header","description":"","required":false,"example":"","schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string","description":"name"}},"required":["id"]}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object","properties":{"isAdmin":{"type":"string"}},"required":["isAdmin"]},"examples":{"1":{"summary":"Success","value":{"isAdmin":true}}}}},"headers":{}},"400":{"description":"","content":{"text/event-stream":{"schema":{"type":"object","properties":{}},"examples":{"1":{"summary":"Bad Request","value":"\"invalid credentials\""}}}},"headers":{}},"500":{"description":"","content":{"text/event-stream":{"schema":{"type":"object","properties":{}},"examples":{"1":{"summary":"Server Error","value":"\"internal error, try again\""}}}},"headers":{}}},"security":[]}},"/auth/validate":{"post":{"summary":"validate-jwt","deprecated":false,"description":"Validate jwt by time to live","tags":[],"parameters":[{"name":"Authorization","in":"header","description":"","required":false,"example":"","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object","properties":{"ok":{"type":"boolean"}},"required":["ok"]}}},"headers":{}},"400":{"description":"","content":{"text/event-stream":{"schema":{"type":"object","properties":{}},"examples":{"1":{"summary":"Bad Request","value":"\"invalid credentials\""}}}},"headers":{}},"500":{"description":"","content":{"text/event-stream":{"schema":{"type":"object","properties":{}},"examples":{"1":{"summary":"Server Error","value":"\"internal error, try again\""}}}},"headers":{}}},"security":[]}},"/auth/roles":{"get":{"summary":"get-roles","deprecated":false,"description":"Get roles by id or jwt","tags":[],"parameters":[{"name":"id","in":"header","description":"","required":false,"example":"","schema":{"type":"string"}},{"name":"Authorization","in":"header","description":"","required":false,"example":"","schema":{"type":"string"}}],"requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"type":"object","properties":{}}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object","properties":{"roles":{"type":"array","items":{"type":"string"}}}}}},"headers":{}},"400":{"description":"","content":{"text/event-stream":{"schema":{"type":"object","properties":{}},"examples":{"1":{"summary":"Bad Request","value":"\"invalid credentials\""}}}},"headers":{}},"500":{"description":"","content":{"text/event-stream":{"schema":{"type":"object","properties":{}},"examples":{"1":{"summary":"Server Error","value":"\"internal error, try again\""}}}},"headers":{}}},"security":[]}}},"components":{"schemas":{},"securitySchemes":{}},"servers":[]}